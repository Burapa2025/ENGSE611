<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM Performance Test</title>
    <style>
        .box {
        border: 2px solid #333;
        padding: 15px;
        margin-top: 15px;
        width: 400px;
    }
    </style>
</head>
<body>
    <button onclick="testLoop()">ทดสอบความเร็วของ Loop</button>
    <button onclick="runTest()">รันทดสอบ DOM ทั้งสองแบบ</button>

    <div class="box">
        <h3>Normal DOM</h3>
        <ul id="list-normal"></ul>
    </div>

    <div class="box">
        <h3>Fragment DOM</h3>
        <ul id="list-fragment"></ul>
    </div>

    <script>

        function testLoop() {
            console.time("Loop 1M");

            let sum = 0;
            for (let i = 0; i < 1000000; i++) {
                sum += i;
            }

            console.timeEnd("Loop 1M");
            alert("ผลลัพธ์ดูได้ใน Developer Console");
        }

        function runTest() {

            const listNormal = document.getElementById("list-normal");
            const listFragment = document.getElementById("list-fragment");

            listNormal.innerHTML = "";
            listFragment.innerHTML = "";

            console.time("Normal DOM");

            for (let i = 0; i < 1000; i++) {
                const li = document.createElement("li");
                li.textContent = "รายการที่ " + i;
                listNormal.appendChild(li);
            }

            console.timeEnd("Normal DOM");

            const fragment = document.createDocumentFragment();
            console.time("Fragment DOM");

            for (let i = 0; i < 1000; i++) {
                const li = document.createElement("li");
                li.textContent = "รายการที่ " + i;
                fragment.appendChild(li);
            }

            listFragment.appendChild(fragment);

            console.timeEnd("Fragment DOM");

            alert("เสร็จสิ้น! ดูเวลาที่วัดได้ใน Developer Console");
        }
    </script>

</body>
</html>